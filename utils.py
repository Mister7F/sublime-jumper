import re


def get_next_element(html, index):
    # Return the size of the next element (in HTML code and in inner text)
    if html[index] == "<":
        m = re.match(r"^<.*?>", html[index:])
        if "<br" in m.group(0).lower():
            return m.end(), 1
        return m.end(), 0
    if html[index] == "&":
        return re.match(r"^&.*?;", html[index:]).end(), 1
    return 1, 1


def get_element_html_positions(html, indexes):
    # Return the index in the HTML code of the given text
    indexes = sorted(indexes)
    text_index = 0
    i = 0

    found = {}

    for index in indexes:
        while True:
            if i >= len(html):
                return found

            html_size, text_size = get_next_element(html, i)

            if text_index == index and text_size:
                found[index] = (i, html_size)
                i += html_size
                text_index += text_size
                break

            if text_index > index:
                break

            i += html_size
            text_index += text_size

    return found


def get_element_html_position(html, index):
    return get_element_html_positions(html, [index])[index]


if __name__ == "__main__":
    data = '''
    y<span style="color:#6699cc;">&nbsp;a&nbsp;X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#c594c5;">for</span><span style="color:#6699cc;">&nbsp;</span><span style="color:#6699cc;">a</span><span style="color:#6699cc;">&nbsp;</span><span style="color:#c594c5;">in</span><span style="color:#6699cc;">&nbsp;</span><span style="color:#6699cc;">c</span><span style="color:#5fb3b3;">[</span><span style="color:#5fb3b3;">:</span><span style="color:#6699cc;">&nbsp;</span><span style="color:#6699cc;">len</span><span style="color:#5fb3b3;">(</span><span style="color:#6699cc;">search</span><span style="color:#5fb3b3;">)</span><span style="color:#5fb3b3;">]</span><br><span style="color:#6699cc;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#5fb3b3;">)</span><br><span style="color:#6699cc;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#5fb3b3;">+</span><span style="color:#6699cc;">&nbsp;</span><span style="color:#5fb3b3;">"</span><span style="color:#5fb3b3;">"</span><span style="color:#5fb3b3;">.</span>join<span style="color:#5fb3b3;">(</span><br><span style="color:#6699cc;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#c594c5;">f</span><span style="color:#5fb3b3;">"""</span><span style="color:#99c794;">&lt;</span><span style="color:#99c794;">span&nbsp;</span><span style="color:#99c794;">style='color:&nbsp;</span><span style="color:#5fb3b3;">{</span><span style="color:#6699cc;">color</span><span style="color:#5fb3b3;">}</span><span style="color:#99c794;">'></span><span style="color:#5fb3b3;">{</span><span style="color:#6699cc;">a</span><span style="color:#5fb3b3;">}</span><span style="color:#99c794;">&lt;/span></span><span style="color:#5fb3b3;">"""</span><br><span style="color:#6699cc;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#c594c5;">for</span><span style="color:#6699cc;">&nbsp;</span><span style="color:#6699cc;">a</span><span style="color:#6699cc;">&nbsp;</span><span style="color:#c594c5;">in</span><span style="color:#6699cc;">&nbsp;</span><span style="color:#6699cc;">c</span><span style="color:#5fb3b3;">[</span><span style="color:#6699cc;">len</span><span style="color:#5fb3b3;">(</span><span style="color:#6699cc;">search</span><span style="color:#5fb3b3;">)</span><span style="color:#6699cc;">&nbsp;</span><span style="color:#5fb3b3;">:</span><span style="color:#5fb3b3;">]</span><br><span style="color:#6699cc;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#5fb3b3;">)</span><span style="color:#5fb3b3;">,</span><br><span style="color:#6699cc;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#6699cc;">sublime</span><span style="color:#5fb3b3;">.</span>LAYOUT_INLINE<span style="color:#5fb3b3;">,</span><br><span style="color:#6699cc;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#5fb3b3;">)</span><span style="color:#5fb3b3;">,</span><br><span style="color:#6699cc;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#5fb3b3;">)</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;phantom_sets<span style="color:#5fb3b3;">[</span><span style="color:#ec5f67;font-style:italic;">self</span><span style="color:#5fb3b3;">.</span>view<span style="color:#5fb3b3;">.</span>id<span style="color:#5fb3b3;">(</span><span style="color:#5fb3b3;">)</span><span style="color:#5fb3b3;">]</span><span style="color:#5fb3b3;">.</span>update<span style="color:#5fb3b3;">(</span><span style="color:#6699cc;">phantoms</span><span style="color:#5fb3b3;">)</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#c594c5;">elif</span>&nbsp;LABEL_MODE&nbsp;<span style="color:#5fb3b3;">==</span>&nbsp;<span style="color:#5fb3b3;">"</span><span style="color:#99c794;">popup</span><span style="color:#5fb3b3;">"</span><span style="color:#5fb3b3;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#65737e;">#</span><span style="color:#65737e;">&nbsp;</span><span style="color:#65737e;">text&nbsp;</span><span style="color:#65737e;">=&nbsp;</span><span style="color:#65737e;">html.escape</span><span style="color:#65737e;">(</span><span style="color:#65737e;">self.view.substr</span><span style="color:#65737e;">(</span><span style="color:#65737e;">self.view.visible_region()))</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#65737e;">#</span><span style="color:#65737e;">&nbsp;</span><span style="color:#65737e;">text&nbsp;</span><span style="color:#65737e;">=&nbsp;</span><span style="color:#65737e;">text.replace("&nbsp;</span><span style="color:#65737e;">",&nbsp;</span><span style="color:#65737e;">"&amp;nbsp;").replace("\n",&nbsp;</span><span style="color:#65737e;">"&lt;br/>&amp;#8203;")</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#c594c5;">def</span>&nbsp;<span style="color:#6699cc;">region_to_html_index</span><span style="color:#5fb3b3;">(</span><span style="color:#f99157;">region</span><span style="color:#5fb3b3;">)</span><span style="color:#5fb3b3;">:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;offset&nbsp;<span style="color:#5fb3b3;">=</span>&nbsp;region<span style="color:#5fb3b3;">.</span>a&nbsp;<span style="color:#5fb3b3;">-</span>&nbsp;<span style="color:#ec5f67;font-style:italic;">self</span><span style="color:#5fb3b3;">.</span>view<span style="color:#5fb3b3;">.</span>visible_region<span style="color:#5fb3b3;">(</span><span style="color:#5fb3b3;">)</span><span style="color:#5fb3b3;">.</span>a<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text&nbsp;<span style="color:#5fb3b3;">=</span>&nbsp;<span style="color:#ec5f67;font-style:italic;">self</span><span style="color:#5fb3b3;">.</span>view<span style="color:#5fb3b3;">.</span>export_to_html<span style="color:#5fb3b3;">(</span><br><span style="color:#6699cc;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#ec5f67;font-style:italic;">self</span><span style="color:#5fb3b3;">.</span><span style="color:#6699cc;">view</span><span style="color:#5fb3b3;">.</span>visible_region<span style="color:#5fb3b3;">(</span><span style="color:#5fb3b3;">)</span><span style="color:#5fb3b3;">,</span><br><span style="color:#6699cc;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#f99157;">minihtml</span><span style="color:#5fb3b3;">=</span><span style="color:#f99157;">True</span><span style="color:#5fb3b3;">,</span><br><span style="color:#6699cc;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#5fb3b3;">)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#6699cc;">print</span><span style="color:#5fb3b3;">(</span><span style="color:#6699cc;">text</span><span style="color:#5fb3b3;">)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line_padding_bottom&nbsp;<span style="color:#5fb3b3;">=</span>&nbsp;<span style="color:#ec5f67;font-style:italic;">self</span><span style="color:#5fb3b3;">.</span>view<span style="color:#5fb3b3;">.</span>settings<span style="color:#5fb3b3;">(</span><span style="color:#5fb3b3;">)</span><span style="color:#5fb3b3;">.</span>get<span style="color:#5fb3b3;">(</span><span style="color:#5fb3b3;">"</span><span style="color:#99c794;">line_padding_bottom</span><span style="color:#5fb3b3;">"</span><span style="color:#5fb3b3;">,</span><span style="color:#6699cc;">&nbsp;</span><span style="color:#f99157;">0</span><span style="color:#5fb3b3;">)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line_padding_top&nbsp;<span style="color:#5fb3b3;">=</span>&nbsp;<span style="color:#ec5f67;font-style:italic;">self</span><span style="color:#5fb3b3;">.</span>view<span style="color:#5fb3b3;">.</span>settings<span style="color:#5fb3b3;">(</span><span style="color:#5fb3b3;">)</span><span style="color:#5fb3b3;">.</span>get<span style="color:#5fb3b3;">(</span><span style="color:#5fb3b3;">"</span><span style="color:#99c794;">line_padding_top</span><span style="color:#5fb3b3;">"</span><span style="color:#5fb3b3;">,</span><span style="color:#6699cc;">&nbsp;</span><span style="color:#f99157;">0</span><span style="color:#5fb3b3;">)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line_height&nbsp;<span style="color:#5fb3b3;">=</span>&nbsp;<span style="color:#5fb3b3;">(</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ec5f67;font-style:italic;">self</span><span style="color:#5fb3b3;">.</span>view<span style="color:#5fb3b3;">.</span>line_height<span style="color:#5fb3b3;">(</span><span style="color:#5fb3b3;">)</span>&nbsp;<span style="color:#5fb3b3;">+</span>&nbsp;line_padding_bottom&nbsp;<span style="color:#5fb3b3;">+</span>&nbsp;line_padding_top<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#5fb3b3;">)</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;region&nbsp;<span style="color:#5fb3b3;">=</span>&nbsp;sublime<span style="color:#5fb3b3;">.</span>Region<span style="color:#5fb3b3;">(</span><span style="color:#6699cc;">positions</span><span style="color:#5fb3b3;">[</span><span style="color:#f99157;">0</span><span style="color:#5fb3b3;">]</span><span style="color:#5fb3b3;">,</span><span style="color:#6699cc;">&nbsp;</span><span style="color:#6699cc;">positions</span><span style="color:#5fb3b3;">[</span><span style="color:#f99157;">1</span><span style="color:#5fb3b3;">]</span><span style="color:#5fb3b3;">)</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#6699cc;">print</span><span style="color:#5fb3b3;">(</span><span style="color:#6699cc;">dir</span><span style="color:#5fb3b3;">(</span><span style="color:#6699cc;">region</span><span style="color:#5fb3b3;">)</span><span style="color:#5fb3b3;">)</span><br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;<span style="color:#5fb3b3;">=</span>&nbsp;<span style="color:#f99157;">250</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;<span style="color:#5fb3b3;">=</span>&nbsp;<span style="color:#5fb3b3;">(</span><span style="color:#f99157;">10</span>&nbsp;<span style="color:#5fb3b3;">-</span>&nbsp;<span style="color:#f99157;">1</span><span style="color:#5fb3b3;">)</span>&nbsp;<span style="color:#5fb3b3;">*</span>&nbsp;line_height<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;<span style="color:#5fb3b3;">=</span>&nbsp;<span style="color:#c594c5;">f</span><span style="color:#5fb3b3;">"</span><span style="color:#99c794;">&lt;</span><span style="color:#99c794;">div&nbsp;</span><span style="color:#99c794;">style='background-color:&nbsp;</span><span style="color:#99c794;">red;&nbsp;</span><span style="color:#99c794;">height:&nbsp;</span><span style="color:#99c794;">0;&nbsp;</span><span style="color:#99c794;">margin-top:&nbsp;</span><span style="color:#5fb3b3;">{</span>y<span style="color:#5fb3b3;">}</span><span style="color:#99c794;">px;&nbsp;</span><span style="color:#99c794;">margin-bottom:&nbsp;</span><span style="color:#99c794;">-</span><span style="color:#5fb3b3;">{</span>y<span style="color:#5fb3b3;">}</span><span style="color:#99c794;">px;&nbsp;</span><span style="color:#99c794;">margin-left:&nbsp;</span><span style="color:#5fb3b3;">{</span>x<span style="color:#5fb3b3;">}</span><span style="color:#99c794;">px;&nbsp;</span><span style="color:#99c794;">margin-right:&nbsp;</span><span style="color:#99c794;">-</span><span style="color:#5fb3b3;">{</span>x<span style="color:#5fb3b3;">}</span><span style="color:#99c794;">px'>&lt;/div></span><span style="color:#5fb3b3;">"</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text&nbsp;<span style="color:#5fb3b3;">=</span>&nbsp;text<span style="color:#5fb3b3;">.</span>replace<span style="color:#5fb3b3;">(</span><span style="color:#5fb3b3;">"</span><span style="color:#5fb3b3;">&lt;</span><span style="color:#eb606b;">br</span><span style="color:#5fb3b3;">></span><span style="color:#5fb3b3;">"</span><span style="color:#5fb3b3;">,</span><span style="color:#6699cc;">&nbsp;</span><span style="color:#5fb3b3;">"</span><span style="color:#5fb3b3;">&lt;</span><span style="color:#eb606b;">br</span><span style="color:#5fb3b3;">></span><span style="color:#5fb3b3;">&amp;#</span><span style="color:#f99157;">8203</span><span style="color:#5fb3b3;">;</span><span style="color:#5fb3b3;">"</span><span style="color:#5fb3b3;">)</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ec5f67;font-style:italic;">self</span><span style="color:#5fb3b3;">.</span>view<span style="color:#5fb3b3;">.</span>show_popup<span style="color:#5fb3b3;">(</span><br><span style="color:#6699cc;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#c594c5;">f</span><span style="color:#5fb3b3;">"</span><span style="color:#99c794;">&lt;</span><span style="color:#99c794;">style</span><span style="color:#99c794;">></span><span style="color:#99c794;">html&nbsp;</span><span style="color:#5fb3b3;">{{</span><span style="color:#99c794;">padding:&nbsp;</span><span style="color:#99c794;">-9px&nbsp;</span><span style="color:#99c794;">-10px</span><span style="color:#5fb3b3;">}}</span><span style="color:#99c794;">&lt;/style></span><span style="color:#5fb3b3;">{</span><span style="color:#6699cc;">label</span><span style="color:#5fb3b3;">}</span><span style="color:#99c794;">&lt;</span><span style="color:#99c794;">div&nbsp;</span><span style="color:#99c794;">style='background-color:&nbsp;</span><span style="color:#99c794;">var(--background);&nbsp;</span><span style="color:#99c794;">line-height:&nbsp;</span><span style="color:#5fb3b3;">{</span><span style="color:#6699cc;">line_height</span><span style="color:#5fb3b3;">}</span><span style="color:#99c794;">px;&nbsp;</span><span style="color:#99c794;">padding:&nbsp;</span><span style="color:#99c794;">-</span><span style="color:#5fb3b3;">{</span><span style="color:#6699cc;">line_height</span><span style="color:#6699cc;">&nbsp;</span><span style="color:#5fb3b3;">+</span><span style="color:#6699cc;">&nbsp;</span><span style="color:#f99157;">12</span><span style="color:#6699cc;">&nbsp;</span><span style="color:#5fb3b3;">-</span><span style="color:#6699cc;">&nbsp;</span><span style="color:#f99157;">10</span><span style="color:#5fb3b3;">}</span><span style="color:#99c794;">px&nbsp;</span><span style="color:#99c794;">10px;&nbsp;</span><span style="color:#99c794;">padding-right:&nbsp;</span><span style="color:#99c794;">5000px'></span><span style="color:#5fb3b3;">{</span><span style="color:#6699cc;">text</span><span style="color:#5fb3b3;">}</span><span style="color:#99c794;">&lt;/div></span><span style="color:#5fb3b3;">"</span><span style="color:#5fb3b3;">,</span><br><span style="color:#6699cc;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#f99157;">location</span><span style="color:#5fb3b3;">=</span><span style="color:#ec5f67;font-style:italic;">self</span><span style="color:#5fb3b3;">.</span><span style="color:#6699cc;">view</span><span style="color:#5fb3b3;">.</span>visible_region<span style="color:#5fb3b3;">(</span><span style="color:#5fb3b3;">)</span><span style="color:#5fb3b3;">.</span><span style="color:#6699cc;">a</span><span style="color:#5fb3b3;">,</span><br><span style="color:#6699cc;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#f99157;">max_width</span><span style="color:#5fb3b3;">=</span><span style="color:#f99157;">10_000</span><span style="color:#5fb3b3;">,</span>
    '''.strip()

    idx, size = get_element_html_position(data, 0)
    assert data[idx : idx + size] == "y"

    idx, size = get_element_html_position(data, 2)
    assert data[idx : idx + size] == "a"

    idx, size = get_element_html_position(data, 3)
    assert data[idx : idx + size] == "&nbsp;"

    idx, size = get_element_html_position(data, 4)
    assert data[idx : idx + size] == "X"
    for i in range(1000):
        idx, size = get_element_html_position(data, i)
        assert size and idx >= 0
